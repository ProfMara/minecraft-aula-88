<!DOCTYPE html>
<html>
<head>
	<title>C85</title>

<link rel="stylesheet" type="text/css" href="style.css">

<script src="fabric.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

<body>

	<center>

	<h1 id="titulo">MINECRAFT</h1>

	<div id="headInfo">
		<h3>Largura atual  = <span id='largura'>30</span></h3> <br>
		<h3>Altura atual  = <span id='altura'>30</span></h3>
	</div>

	
	</center>
			<div id="canvas">
			<canvas id="tela" width="600" height="600"></canvas>
			<ul>
				<h3 id="titulo"><b>Lista de Comandos</b></h3> <br>
				<li><h3><b>G</b> faz a <b>G</b>rama</h3> <br></li>
				<li><h3><b>M</b> faz a <b>M</b>adeira</h3> <br></li>
				<li><h3><b>T</b> faz o <b>T</b>ijolo</h3> <br></li>
				<li><h3><b>N</b> faz a Terra do <b>N</b>ether </h3> <br></li>
				<li><h3><b>P</b> faz a <b>P</b>edra</h3> <br></li>
				<li><h3><b>L</b> faz a Pedra <b>L</b>uminosa</h3> <br></li>
				<li><h3><b>V</b> faz o bloco <b>V</b>erde Claro</h3></li>
				<li><h3><b>E</b> faz o bloco verde <b>E</b>scuro</h3></li>
			</ul>
			</div>

	<script src="main.js"></script>


	<script>
		var tela = new fabric.Canvas("tela");
		var ctx = tela.getContext("2d");

		var x = 10;
		var y = 10;
		var player = '';
		
		function mover(){
			tela.remove(player);
			fabric.Image.fromURL("player.png", function (img){
				player = img;
				player.scaleToWidth(150);
				player.scaleToHeight(140);
				player.set({
					top:y,
					left:x
				})
				tela.add(player);
			})
		}

		//Adicionar as variáveis para guardar a largura e a altura

		
		//ensinar o computador como por qualquer imagem na tela
		function novaImagem(){
			fabric.Image.fromURL("madeira.jpg", function (img){
				bloco = img;
				bloco.scaleToWidth(30)
				bloco.scaleToHeight(30);
				bloco.set({
					top:y,
					left:x
				})
				tela.add(bloco)
			})
		}
		

		window.addEventListener("keydown", aperteiTecla);
		function aperteiTecla(e){
			var tecla = e.keyCode;
			console.log("Apertei a tecla que tem o código: "+tecla);

			if(tecla == 65){
				console.log("O player está na posição X: "+x)
				x-=10;
				mover();
			}
			if(tecla == 68){
				x+=10;
				console.log("O player está na posição X: "+x)
				mover();
			}
			if(tecla == 87){
				console.log("O player está na posição Y: "+y)
				y-=10;
				mover();
			}
			if(tecla == 83){
				console.log("O player está na posição Y: "+y)
				y+=10;
				mover();
			}

			// se a tecla m foi pressionada, coloca a imagem da madeira
			if(tecla == 77){
				console.log('m');
				novaImagem();
			}


		}

	</script>
</body>
</html>